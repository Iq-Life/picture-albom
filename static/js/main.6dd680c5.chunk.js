(this["webpackJsonppicture-albom"]=this["webpackJsonppicture-albom"]||[]).push([[0],{124:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),a=n(24),u=n.n(a),i=(n(99),n(63)),o=n.n(i),l=n(40),s=n.n(l),b=n(12),j=n(186),d=n(188),m=n(187),O=n(189),f=n(191),p=n(185),h=n(178),g=n(2),x=Object(c.memo)((function(t){var e=t.text,n=t.thumbnailUrl,r=t.id,a=t.fullImageUrl,u=Object(c.useState)(!1),i=Object(b.a)(u,2),o=i[0],l=i[1],s=function(){return l(!1)};return Object(g.jsxs)("div",{children:[o?Object(g.jsx)(h.a,{open:o,onClose:s,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(g.jsx)(p.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",boxShadow:34},children:Object(g.jsx)("img",{src:a,alt:"full size",onClick:s})})}):"",Object(g.jsx)(j.a,{sx:{width:345,bgcolor:"#1e1e1e"},children:Object(g.jsxs)(f.a,{onClick:function(){return l(!0)},children:[Object(g.jsx)(m.a,{component:"img",height:"140",image:n,alt:"green iguana"}),Object(g.jsxs)(d.a,{children:[Object(g.jsxs)(O.a,{sx:{color:"white"},gutterBottom:!0,variant:"h5",component:"div",children:["photo id: ",r]}),Object(g.jsx)(O.a,{sx:{color:"#ffffffb3"},variant:"body2",color:"text.secondary",children:e})]})]})})]})})),C=n(85),_=n.n(C),v=n(180),P=n(174),E=Object(c.memo)((function(t){var e=t.pagesCount,n=t.currentPage,c=t.setCurrentPage;return Object(g.jsx)(P.a,{spacing:2,children:Object(g.jsx)(v.a,{sx:{marginRight:1},color:"primary",count:e,variant:"outlined",shape:"rounded",siblingCount:2,onChange:function(t,e){return c(e)},page:n})})})),S=n(183),A=n(181),T=n(182),R=n(177),U=Object(c.memo)((function(t){var e=t.setCurrentAlbum,n=t.albums,r=Object(c.useState)(""),a=Object(b.a)(r,2),u=a[0],i=a[1],o=Object(c.useState)(!1),l=Object(b.a)(o,2),s=l[0],j=l[1],d={PaperProps:{style:{maxHeight:224,minWidth:120,backgroundColor:"#20262d",color:"#1976d2"}}},m=n.map((function(t){return Object(g.jsxs)(A.a,{value:t.id,children:[t.id,". ",t.title]},t.id)}));return Object(g.jsx)("div",{children:Object(g.jsxs)(T.a,{sx:{m:1,minWidth:120},children:[Object(g.jsx)(S.a,{id:"controlled-open-select-label",children:"Albums"}),Object(g.jsxs)(R.a,{labelId:"controlled-open-select-label",id:"controlled-open-select",open:s,onClose:function(){j(!1)},onOpen:function(){j(!0)},value:u,label:"Album",onChange:function(t){i(t.target.value),e(Number(t.target.value))},MenuProps:d,children:[Object(g.jsx)(A.a,{value:"",children:Object(g.jsx)("em",{children:"all"})}),m]})]})})})),I=Object(c.memo)((function(t){var e=t.limit,n=t.setCurrentAlbum,c=t.totalPicturesCount,r=t.setCurrentPage,a=t.currentPage,u=t.albums,i=Math.ceil(c/e);return Object(g.jsxs)("div",{className:_.a.navigationBar,children:[Object(g.jsx)("div",{children:Object(g.jsx)(U,{setCurrentAlbum:n,albums:u})}),Object(g.jsx)("div",{children:Object(g.jsx)(E,{setCurrentPage:function(t){return r(t)},currentPage:a,pagesCount:i})})]})})),N=n(23),y=function(t){return t.pictureReducer.pictures},B=function(t){return t.pictureReducer.limit},L=function(t){return t.pictureReducer.start},M=function(t){return t.pictureReducer.totalPicturesCount},k=function(t){return t.pictureReducer.currentPage},w=function(t){return t.pictureReducer.currentAlbum},F=function(t){return t.pictureReducer.albums},H=n(13),q=n(20),W=n(86),D=n.n(W).a.create({baseURL:"http://jsonplaceholder.typicode.com/"}),G=function(t,e){return D.get("photos?_start=".concat(t,"&_limit=").concat(e))},J=function(t,e,n){return D.get("albums/".concat(t,"/photos?_start=").concat(e,"&_limit=").concat(n))},V=function(){return D.get("albums")},z={pictures:[],albums:[],currentAlbum:0,start:0,limit:20,totalPicturesCount:0,currentPage:1},K=function(t){return{type:"SET_PICTURES",data:t}},Q=function(t){return{type:"TOTAL_PICTURES_COUNT",totalPicturesCount:t}},X=function(t,e,n){return function(c,r){J(t,e,n).then((function(e){c(K(e.data));var n=r().pictureReducer.currentAlbum;t!==n&&(c(Q(Number(e.headers["x-total-count"]))),c({type:"SET_SELECT_ALBUM",setCurrentAlbum:t}))}))}},Y=Object(c.memo)((function(){var t=Object(N.c)(y),e=Object(N.c)(F),n=Object(N.c)(B),r=Object(N.c)(L),a=Object(N.c)(M),u=Object(N.c)(k),i=Object(N.c)(w),o=Object(N.b)();Object(c.useEffect)((function(){o((function(t){V().then((function(e){t({type:"SET_ALBUMS",albums:e.data})}))}))}),[o]),Object(c.useEffect)((function(){o(i?X(i,r,n):function(t,e){return function(n){G(t,e).then((function(t){n(Q(Number(t.headers["x-total-count"]))),n(K(t.data))}))}}(r,n))}),[i,r,n,o]);var l=Object(c.useCallback)((function(t){o(function(t){return{type:"SET_CURRENT_PAGE",currentPage:t}}(t))}),[o]),b=Object(c.useCallback)((function(t,e,n){o(X(t,e,n))}),[o]),j=Object(c.useCallback)((function(t){o(function(t){return{type:"REMOVE_PICTURES",picturesId:t}}(t))}),[o]),d=t.map((function(t){return Object(g.jsxs)("div",{className:s.a.tileFragment,children:[Object(g.jsx)("button",{className:s.a.deleteIcon,onClick:function(){return j(t.id)},children:"x"}),Object(g.jsx)("div",{className:s.a.containerActionAreaCard,children:Object(g.jsx)(x,{id:t.id,thumbnailUrl:t.thumbnailUrl,fullImageUrl:t.url,text:t.title})})]},t.id)}));return Object(g.jsxs)("div",{className:s.a.scoreboard,children:[Object(g.jsx)(I,{limit:n,totalPicturesCount:a,currentPage:u,setCurrentPage:l,albums:e,setCurrentAlbum:function(t){return b(t,r,n)}}),Object(g.jsx)("div",{className:s.a.tile,children:d})]})})),Z=function(){return Object(g.jsxs)("div",{className:o.a.App,children:[Object(g.jsx)("div",{className:o.a.title,children:Object(g.jsx)("h1",{children:"Picture-album"})}),Object(g.jsx)(Y,{})]})},$=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,193)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,a=e.getLCP,u=e.getTTFB;n(t),c(t),r(t),a(t),u(t)}))},tt=n(57),et=n(87),nt=Object(tt.b)({pictureReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_PICTURES":return Object(q.a)(Object(q.a)({},t),{},{pictures:e.data});case"SET_ALBUMS":return Object(q.a)(Object(q.a)({},t),{},{albums:e.albums});case"REMOVE_PICTURES":return Object(q.a)(Object(q.a)({},t),{},{pictures:Object(H.a)(t.pictures).filter((function(t){return t.id!==e.picturesId}))});case"SET_CURRENT_PAGE":return Object(q.a)(Object(q.a)({},t),{},{currentPage:e.currentPage,start:(e.currentPage-1)*t.limit});case"TOTAL_PICTURES_COUNT":return Object(q.a)(Object(q.a)({},t),{},{totalPicturesCount:e.totalPicturesCount});case"SET_SELECT_ALBUM":return Object(q.a)(Object(q.a)({},t),{},{currentAlbum:e.setCurrentAlbum,currentPage:1,start:0});default:return t}}}),ct=Object(tt.c)(nt,Object(tt.a)(et.a));u.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(N.a,{store:ct,children:Object(g.jsx)(Z,{})})}),document.getElementById("root")),$()},40:function(t,e,n){t.exports={scoreboard:"Scoreboard_scoreboard__3Rlml",tile:"Scoreboard_tile__2iDla",tileFragment:"Scoreboard_tileFragment__2qEwN",deleteIcon:"Scoreboard_deleteIcon__wH5wM"}},63:function(t,e,n){t.exports={App:"App_App__2hIHm",title:"App_title__17WgH"}},85:function(t,e,n){t.exports={navigationBar:"NavigationBar_navigationBar__2qHq_"}},99:function(t,e,n){}},[[124,1,2]]]);
//# sourceMappingURL=main.6dd680c5.chunk.js.map